{
  "cells": [
    {
      "cell_type": "code",
      "execution_count": 30,
      "id": "a439fa67",
      "metadata": {
        "id": "a439fa67"
      },
      "outputs": [],
      "source": [
        "import pandas as pd\n",
        "import numpy as np\n",
        "import matplotlib.pyplot as plt\n",
        "from scipy import stats\n",
        "import seaborn as sns"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "from google.colab import drive\n",
        "drive.mount('/content/drive')"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "giN9RicVnVu5",
        "outputId": "67728a6b-578d-48b3-d412-4a2480b21bca"
      },
      "id": "giN9RicVnVu5",
      "execution_count": 31,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(\"/content/drive\", force_remount=True).\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 32,
      "id": "8b9f1684",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "8b9f1684",
        "outputId": "2637c6dd-b89a-4d19-9897-4f33b08070f0"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "<ipython-input-32-c7bd5f3812ab>:2: MatplotlibDeprecationWarning: The seaborn styles shipped by Matplotlib are deprecated since 3.6, as they no longer correspond to the styles shipped by seaborn. However, they will remain available as 'seaborn-v0_8-<style>'. Alternatively, directly use the seaborn API instead.\n",
            "  plt.style.use('seaborn')\n"
          ]
        }
      ],
      "source": [
        "# set theme\n",
        "plt.style.use('seaborn')\n",
        "sns.set_style('darkgrid')"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 89,
      "id": "355a2b16",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "355a2b16",
        "outputId": "4003d5e9-e050-4d2f-9ff4-8e2dfc87941a"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "/usr/local/lib/python3.10/dist-packages/pandas/core/internals/blocks.py:351: RuntimeWarning: invalid value encountered in log\n",
            "  result = func(self.values, **kwargs)\n"
          ]
        }
      ],
      "source": [
        "prices = pd.read_csv('/content/drive/MyDrive/final_data_norm.csv', index_col=0)\n",
        "prices = prices.dropna(axis=1)\n",
        "returns = np.log(prices).diff().dropna()"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "returns.head(1000)"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 2299
        },
        "id": "lg4YKJwBpGro",
        "outputId": "624c9831-b625-4439-9ba4-d1fcf84ba2bd"
      },
      "id": "lg4YKJwBpGro",
      "execution_count": 101,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "              Instr1    Instr2    Instr3    Instr4    Instr5    Instr6  \\\n",
              "Timestamp                                                                \n",
              "1/15/2018   0.130973  0.158917  0.181080  0.207595  0.228823  0.246988   \n",
              "1/16/2018  -0.429846 -0.419833 -0.417336 -0.417719 -0.415104 -0.425432   \n",
              "1/17/2018   0.105508  0.103738  0.095824  0.082884  0.080662  0.085540   \n",
              "1/18/2018  -0.030949 -0.036490 -0.027796 -0.018893 -0.009734  0.005111   \n",
              "1/19/2018  -0.377359 -0.379642 -0.391759 -0.391912 -0.397026 -0.402511   \n",
              "...              ...       ...       ...       ...       ...       ...   \n",
              "11/30/2023 -0.017001 -0.133952 -0.132479 -0.133290 -0.133490 -0.135119   \n",
              "12-01-2023 -0.288805 -0.160526 -0.150277 -0.139047 -0.131152 -0.126717   \n",
              "12-04-2023 -0.074780 -0.060090 -0.047191 -0.037373 -0.027929 -0.019606   \n",
              "12-05-2023 -0.078849 -0.082977 -0.087413 -0.090269 -0.090618 -0.090606   \n",
              "12-06-2023 -0.182777 -0.168145 -0.161100 -0.153885 -0.149228 -0.142453   \n",
              "\n",
              "              Instr7    Instr8    Instr9   Instr10   Instr11   Instr12  \\\n",
              "Timestamp                                                                \n",
              "1/15/2018   0.270307  0.295741  0.326552  0.368944  0.404288  0.454698   \n",
              "1/16/2018  -0.441959 -0.467667 -0.506398 -0.553157 -0.592455 -0.652314   \n",
              "1/17/2018   0.092262  0.101829  0.114445  0.131652  0.146471  0.178561   \n",
              "1/18/2018   0.016390  0.023916  0.033235  0.045220  0.049831  0.065164   \n",
              "1/19/2018  -0.417619 -0.446892 -0.476731 -0.532136 -0.575343 -0.615504   \n",
              "...              ...       ...       ...       ...       ...       ...   \n",
              "11/30/2023 -0.134287 -0.133687 -0.133264 -0.132920 -0.131467 -0.130836   \n",
              "12-01-2023 -0.124730 -0.123797 -0.122229 -0.121553 -0.121059 -0.119927   \n",
              "12-04-2023 -0.013045 -0.006529 -0.002456  0.000823  0.003316  0.005017   \n",
              "12-05-2023 -0.091008 -0.090795 -0.088208 -0.086734 -0.084575 -0.082551   \n",
              "12-06-2023 -0.139644 -0.138248 -0.139052 -0.131137 -0.130650 -0.132502   \n",
              "\n",
              "             Instr13   Instr16   Instr17  \n",
              "Timestamp                                 \n",
              "1/15/2018   0.539169  1.077763  1.390907  \n",
              "1/16/2018  -0.743011 -1.345539 -1.646136  \n",
              "1/17/2018   0.226631  0.547690  0.744257  \n",
              "1/18/2018   0.086294  0.200453  0.243942  \n",
              "1/19/2018  -0.706003 -1.232356 -1.510860  \n",
              "...              ...       ...       ...  \n",
              "11/30/2023 -0.131010 -0.127890 -0.126342  \n",
              "12-01-2023 -0.118935 -0.114006 -0.112590  \n",
              "12-04-2023  0.008441  0.012947  0.013058  \n",
              "12-05-2023 -0.080480 -0.075689 -0.075426  \n",
              "12-06-2023 -0.118835 -0.049297 -0.126072  \n",
              "\n",
              "[863 rows x 15 columns]"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-b15fe8eb-f521-40bc-8e5d-a9ce2820e58c\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Instr1</th>\n",
              "      <th>Instr2</th>\n",
              "      <th>Instr3</th>\n",
              "      <th>Instr4</th>\n",
              "      <th>Instr5</th>\n",
              "      <th>Instr6</th>\n",
              "      <th>Instr7</th>\n",
              "      <th>Instr8</th>\n",
              "      <th>Instr9</th>\n",
              "      <th>Instr10</th>\n",
              "      <th>Instr11</th>\n",
              "      <th>Instr12</th>\n",
              "      <th>Instr13</th>\n",
              "      <th>Instr16</th>\n",
              "      <th>Instr17</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Timestamp</th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>1/15/2018</th>\n",
              "      <td>0.130973</td>\n",
              "      <td>0.158917</td>\n",
              "      <td>0.181080</td>\n",
              "      <td>0.207595</td>\n",
              "      <td>0.228823</td>\n",
              "      <td>0.246988</td>\n",
              "      <td>0.270307</td>\n",
              "      <td>0.295741</td>\n",
              "      <td>0.326552</td>\n",
              "      <td>0.368944</td>\n",
              "      <td>0.404288</td>\n",
              "      <td>0.454698</td>\n",
              "      <td>0.539169</td>\n",
              "      <td>1.077763</td>\n",
              "      <td>1.390907</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1/16/2018</th>\n",
              "      <td>-0.429846</td>\n",
              "      <td>-0.419833</td>\n",
              "      <td>-0.417336</td>\n",
              "      <td>-0.417719</td>\n",
              "      <td>-0.415104</td>\n",
              "      <td>-0.425432</td>\n",
              "      <td>-0.441959</td>\n",
              "      <td>-0.467667</td>\n",
              "      <td>-0.506398</td>\n",
              "      <td>-0.553157</td>\n",
              "      <td>-0.592455</td>\n",
              "      <td>-0.652314</td>\n",
              "      <td>-0.743011</td>\n",
              "      <td>-1.345539</td>\n",
              "      <td>-1.646136</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1/17/2018</th>\n",
              "      <td>0.105508</td>\n",
              "      <td>0.103738</td>\n",
              "      <td>0.095824</td>\n",
              "      <td>0.082884</td>\n",
              "      <td>0.080662</td>\n",
              "      <td>0.085540</td>\n",
              "      <td>0.092262</td>\n",
              "      <td>0.101829</td>\n",
              "      <td>0.114445</td>\n",
              "      <td>0.131652</td>\n",
              "      <td>0.146471</td>\n",
              "      <td>0.178561</td>\n",
              "      <td>0.226631</td>\n",
              "      <td>0.547690</td>\n",
              "      <td>0.744257</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1/18/2018</th>\n",
              "      <td>-0.030949</td>\n",
              "      <td>-0.036490</td>\n",
              "      <td>-0.027796</td>\n",
              "      <td>-0.018893</td>\n",
              "      <td>-0.009734</td>\n",
              "      <td>0.005111</td>\n",
              "      <td>0.016390</td>\n",
              "      <td>0.023916</td>\n",
              "      <td>0.033235</td>\n",
              "      <td>0.045220</td>\n",
              "      <td>0.049831</td>\n",
              "      <td>0.065164</td>\n",
              "      <td>0.086294</td>\n",
              "      <td>0.200453</td>\n",
              "      <td>0.243942</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1/19/2018</th>\n",
              "      <td>-0.377359</td>\n",
              "      <td>-0.379642</td>\n",
              "      <td>-0.391759</td>\n",
              "      <td>-0.391912</td>\n",
              "      <td>-0.397026</td>\n",
              "      <td>-0.402511</td>\n",
              "      <td>-0.417619</td>\n",
              "      <td>-0.446892</td>\n",
              "      <td>-0.476731</td>\n",
              "      <td>-0.532136</td>\n",
              "      <td>-0.575343</td>\n",
              "      <td>-0.615504</td>\n",
              "      <td>-0.706003</td>\n",
              "      <td>-1.232356</td>\n",
              "      <td>-1.510860</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>...</th>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "      <td>...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>11/30/2023</th>\n",
              "      <td>-0.017001</td>\n",
              "      <td>-0.133952</td>\n",
              "      <td>-0.132479</td>\n",
              "      <td>-0.133290</td>\n",
              "      <td>-0.133490</td>\n",
              "      <td>-0.135119</td>\n",
              "      <td>-0.134287</td>\n",
              "      <td>-0.133687</td>\n",
              "      <td>-0.133264</td>\n",
              "      <td>-0.132920</td>\n",
              "      <td>-0.131467</td>\n",
              "      <td>-0.130836</td>\n",
              "      <td>-0.131010</td>\n",
              "      <td>-0.127890</td>\n",
              "      <td>-0.126342</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>12-01-2023</th>\n",
              "      <td>-0.288805</td>\n",
              "      <td>-0.160526</td>\n",
              "      <td>-0.150277</td>\n",
              "      <td>-0.139047</td>\n",
              "      <td>-0.131152</td>\n",
              "      <td>-0.126717</td>\n",
              "      <td>-0.124730</td>\n",
              "      <td>-0.123797</td>\n",
              "      <td>-0.122229</td>\n",
              "      <td>-0.121553</td>\n",
              "      <td>-0.121059</td>\n",
              "      <td>-0.119927</td>\n",
              "      <td>-0.118935</td>\n",
              "      <td>-0.114006</td>\n",
              "      <td>-0.112590</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>12-04-2023</th>\n",
              "      <td>-0.074780</td>\n",
              "      <td>-0.060090</td>\n",
              "      <td>-0.047191</td>\n",
              "      <td>-0.037373</td>\n",
              "      <td>-0.027929</td>\n",
              "      <td>-0.019606</td>\n",
              "      <td>-0.013045</td>\n",
              "      <td>-0.006529</td>\n",
              "      <td>-0.002456</td>\n",
              "      <td>0.000823</td>\n",
              "      <td>0.003316</td>\n",
              "      <td>0.005017</td>\n",
              "      <td>0.008441</td>\n",
              "      <td>0.012947</td>\n",
              "      <td>0.013058</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>12-05-2023</th>\n",
              "      <td>-0.078849</td>\n",
              "      <td>-0.082977</td>\n",
              "      <td>-0.087413</td>\n",
              "      <td>-0.090269</td>\n",
              "      <td>-0.090618</td>\n",
              "      <td>-0.090606</td>\n",
              "      <td>-0.091008</td>\n",
              "      <td>-0.090795</td>\n",
              "      <td>-0.088208</td>\n",
              "      <td>-0.086734</td>\n",
              "      <td>-0.084575</td>\n",
              "      <td>-0.082551</td>\n",
              "      <td>-0.080480</td>\n",
              "      <td>-0.075689</td>\n",
              "      <td>-0.075426</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>12-06-2023</th>\n",
              "      <td>-0.182777</td>\n",
              "      <td>-0.168145</td>\n",
              "      <td>-0.161100</td>\n",
              "      <td>-0.153885</td>\n",
              "      <td>-0.149228</td>\n",
              "      <td>-0.142453</td>\n",
              "      <td>-0.139644</td>\n",
              "      <td>-0.138248</td>\n",
              "      <td>-0.139052</td>\n",
              "      <td>-0.131137</td>\n",
              "      <td>-0.130650</td>\n",
              "      <td>-0.132502</td>\n",
              "      <td>-0.118835</td>\n",
              "      <td>-0.049297</td>\n",
              "      <td>-0.126072</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "<p>863 rows × 15 columns</p>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-b15fe8eb-f521-40bc-8e5d-a9ce2820e58c')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-b15fe8eb-f521-40bc-8e5d-a9ce2820e58c button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-b15fe8eb-f521-40bc-8e5d-a9ce2820e58c');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-f1c44da8-2e3d-4139-92bf-47c0426ddbc3\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-f1c44da8-2e3d-4139-92bf-47c0426ddbc3')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-f1c44da8-2e3d-4139-92bf-47c0426ddbc3 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ]
          },
          "metadata": {},
          "execution_count": 101
        }
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 90,
      "id": "73b6d20a",
      "metadata": {
        "id": "73b6d20a"
      },
      "outputs": [],
      "source": [
        "\n",
        "\n",
        "prices_form = prices.loc['11/20/2018':'5/19/2020']\n",
        "prices_trade = prices.loc['5/20/2021':'11/19/2021']\n"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "prices_form.head()"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 257
        },
        "id": "8y7gjPXfrUjr",
        "outputId": "f152f413-b7c5-475d-af86-b1a62d1f6a43"
      },
      "id": "8y7gjPXfrUjr",
      "execution_count": 85,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "              Instr1    Instr2    Instr3    Instr4    Instr5    Instr6  \\\n",
              "Timestamp                                                                \n",
              "11/20/2018 -0.241640 -0.217275 -0.196079 -0.176944 -0.157653 -0.141625   \n",
              "11/21/2018 -0.191221 -0.162505 -0.138024 -0.115637 -0.093125 -0.072660   \n",
              "11/22/2018 -0.237925 -0.215063 -0.192630 -0.171587 -0.149664 -0.129604   \n",
              "11/23/2018 -0.439599 -0.427504 -0.415653 -0.402532 -0.388109 -0.373197   \n",
              "11/26/2018 -0.350438 -0.343413 -0.331732 -0.318606 -0.303301 -0.287148   \n",
              "\n",
              "              Instr7    Instr8    Instr9   Instr10   Instr11   Instr12  \\\n",
              "Timestamp                                                                \n",
              "11/20/2018 -0.128288 -0.119691 -0.115212 -0.110266 -0.105645 -0.102276   \n",
              "11/21/2018 -0.055522 -0.043110 -0.034788 -0.026674 -0.018892 -0.012358   \n",
              "11/22/2018 -0.112696 -0.100379 -0.091358 -0.082402 -0.073646 -0.066019   \n",
              "11/23/2018 -0.360231 -0.350766 -0.344897 -0.338750 -0.331060 -0.325621   \n",
              "11/26/2018 -0.273171 -0.263530 -0.256976 -0.250282 -0.243596 -0.238604   \n",
              "\n",
              "             Instr13   Instr16   Instr17  \n",
              "Timestamp                                 \n",
              "11/20/2018 -0.095492 -0.071803 -0.063460  \n",
              "11/21/2018 -0.002391  0.029717  0.039916  \n",
              "11/22/2018 -0.055592 -0.021043 -0.009386  \n",
              "11/23/2018 -0.315685 -0.283435 -0.272599  \n",
              "11/26/2018 -0.228494 -0.195971 -0.186717  "
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-b4420e98-0963-4951-bb6e-b87a6bbe1a63\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Instr1</th>\n",
              "      <th>Instr2</th>\n",
              "      <th>Instr3</th>\n",
              "      <th>Instr4</th>\n",
              "      <th>Instr5</th>\n",
              "      <th>Instr6</th>\n",
              "      <th>Instr7</th>\n",
              "      <th>Instr8</th>\n",
              "      <th>Instr9</th>\n",
              "      <th>Instr10</th>\n",
              "      <th>Instr11</th>\n",
              "      <th>Instr12</th>\n",
              "      <th>Instr13</th>\n",
              "      <th>Instr16</th>\n",
              "      <th>Instr17</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Timestamp</th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>11/20/2018</th>\n",
              "      <td>-0.241640</td>\n",
              "      <td>-0.217275</td>\n",
              "      <td>-0.196079</td>\n",
              "      <td>-0.176944</td>\n",
              "      <td>-0.157653</td>\n",
              "      <td>-0.141625</td>\n",
              "      <td>-0.128288</td>\n",
              "      <td>-0.119691</td>\n",
              "      <td>-0.115212</td>\n",
              "      <td>-0.110266</td>\n",
              "      <td>-0.105645</td>\n",
              "      <td>-0.102276</td>\n",
              "      <td>-0.095492</td>\n",
              "      <td>-0.071803</td>\n",
              "      <td>-0.063460</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>11/21/2018</th>\n",
              "      <td>-0.191221</td>\n",
              "      <td>-0.162505</td>\n",
              "      <td>-0.138024</td>\n",
              "      <td>-0.115637</td>\n",
              "      <td>-0.093125</td>\n",
              "      <td>-0.072660</td>\n",
              "      <td>-0.055522</td>\n",
              "      <td>-0.043110</td>\n",
              "      <td>-0.034788</td>\n",
              "      <td>-0.026674</td>\n",
              "      <td>-0.018892</td>\n",
              "      <td>-0.012358</td>\n",
              "      <td>-0.002391</td>\n",
              "      <td>0.029717</td>\n",
              "      <td>0.039916</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>11/22/2018</th>\n",
              "      <td>-0.237925</td>\n",
              "      <td>-0.215063</td>\n",
              "      <td>-0.192630</td>\n",
              "      <td>-0.171587</td>\n",
              "      <td>-0.149664</td>\n",
              "      <td>-0.129604</td>\n",
              "      <td>-0.112696</td>\n",
              "      <td>-0.100379</td>\n",
              "      <td>-0.091358</td>\n",
              "      <td>-0.082402</td>\n",
              "      <td>-0.073646</td>\n",
              "      <td>-0.066019</td>\n",
              "      <td>-0.055592</td>\n",
              "      <td>-0.021043</td>\n",
              "      <td>-0.009386</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>11/23/2018</th>\n",
              "      <td>-0.439599</td>\n",
              "      <td>-0.427504</td>\n",
              "      <td>-0.415653</td>\n",
              "      <td>-0.402532</td>\n",
              "      <td>-0.388109</td>\n",
              "      <td>-0.373197</td>\n",
              "      <td>-0.360231</td>\n",
              "      <td>-0.350766</td>\n",
              "      <td>-0.344897</td>\n",
              "      <td>-0.338750</td>\n",
              "      <td>-0.331060</td>\n",
              "      <td>-0.325621</td>\n",
              "      <td>-0.315685</td>\n",
              "      <td>-0.283435</td>\n",
              "      <td>-0.272599</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>11/26/2018</th>\n",
              "      <td>-0.350438</td>\n",
              "      <td>-0.343413</td>\n",
              "      <td>-0.331732</td>\n",
              "      <td>-0.318606</td>\n",
              "      <td>-0.303301</td>\n",
              "      <td>-0.287148</td>\n",
              "      <td>-0.273171</td>\n",
              "      <td>-0.263530</td>\n",
              "      <td>-0.256976</td>\n",
              "      <td>-0.250282</td>\n",
              "      <td>-0.243596</td>\n",
              "      <td>-0.238604</td>\n",
              "      <td>-0.228494</td>\n",
              "      <td>-0.195971</td>\n",
              "      <td>-0.186717</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-b4420e98-0963-4951-bb6e-b87a6bbe1a63')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-b4420e98-0963-4951-bb6e-b87a6bbe1a63 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-b4420e98-0963-4951-bb6e-b87a6bbe1a63');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-bb154673-23e8-4f32-9810-3d3a847eb5af\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-bb154673-23e8-4f32-9810-3d3a847eb5af')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-bb154673-23e8-4f32-9810-3d3a847eb5af button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ]
          },
          "metadata": {},
          "execution_count": 85
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "prices_form.head()"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 149
        },
        "id": "CEJfRRndpeN4",
        "outputId": "1c9cc33b-cf41-434c-b56c-65b63912efc6"
      },
      "id": "CEJfRRndpeN4",
      "execution_count": 75,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "              Instr1    Instr2    Instr3    Instr4    Instr5    Instr6  \\\n",
              "Timestamp                                                                \n",
              "03-11-2016 -1.416659 -1.420558 -1.426727 -1.426903 -1.424853 -1.421595   \n",
              "\n",
              "              Instr7    Instr8    Instr9   Instr10   Instr11   Instr12  \\\n",
              "Timestamp                                                                \n",
              "03-11-2016 -1.414042 -1.403588 -1.393133 -1.382952 -1.372094 -1.360408   \n",
              "\n",
              "             Instr13   Instr16   Instr17  \n",
              "Timestamp                                 \n",
              "03-11-2016 -1.351622 -1.325976 -1.319087  "
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-7a361eb1-f9c5-49f9-b9d0-658550eb7664\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Instr1</th>\n",
              "      <th>Instr2</th>\n",
              "      <th>Instr3</th>\n",
              "      <th>Instr4</th>\n",
              "      <th>Instr5</th>\n",
              "      <th>Instr6</th>\n",
              "      <th>Instr7</th>\n",
              "      <th>Instr8</th>\n",
              "      <th>Instr9</th>\n",
              "      <th>Instr10</th>\n",
              "      <th>Instr11</th>\n",
              "      <th>Instr12</th>\n",
              "      <th>Instr13</th>\n",
              "      <th>Instr16</th>\n",
              "      <th>Instr17</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Timestamp</th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>03-11-2016</th>\n",
              "      <td>-1.416659</td>\n",
              "      <td>-1.420558</td>\n",
              "      <td>-1.426727</td>\n",
              "      <td>-1.426903</td>\n",
              "      <td>-1.424853</td>\n",
              "      <td>-1.421595</td>\n",
              "      <td>-1.414042</td>\n",
              "      <td>-1.403588</td>\n",
              "      <td>-1.393133</td>\n",
              "      <td>-1.382952</td>\n",
              "      <td>-1.372094</td>\n",
              "      <td>-1.360408</td>\n",
              "      <td>-1.351622</td>\n",
              "      <td>-1.325976</td>\n",
              "      <td>-1.319087</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-7a361eb1-f9c5-49f9-b9d0-658550eb7664')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-7a361eb1-f9c5-49f9-b9d0-658550eb7664 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-7a361eb1-f9c5-49f9-b9d0-658550eb7664');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ]
          },
          "metadata": {},
          "execution_count": 75
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "\n",
        "returns_form = returns.loc['11-12-2018':'5/28/2019']\n",
        "returns_trade = returns.loc['05-12-2021':'11/19/2021']"
      ],
      "metadata": {
        "id": "mErhAlsE49dJ"
      },
      "id": "mErhAlsE49dJ",
      "execution_count": 102,
      "outputs": []
    },
    {
      "cell_type": "code",
      "execution_count": 103,
      "id": "bd15e161",
      "metadata": {
        "id": "bd15e161"
      },
      "outputs": [],
      "source": [
        "\n",
        "# Calculate Kendall's tau for each pair of stocks\n",
        "results = pd.DataFrame(columns=['tau'])\n",
        "\n",
        "for s1 in returns_form.columns:\n",
        "    for s2 in returns_form.columns:\n",
        "        if (s1!=s2) and (f'{s2}-{s1}' not in results.index):\n",
        "            results.loc[f'{s1}-{s2}'] = stats.kendalltau(returns_form[s1], returns_form[s2])[0]"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 104,
      "id": "7c42fa0b",
      "metadata": {
        "id": "7c42fa0b"
      },
      "outputs": [],
      "source": [
        "results.to_csv('pairs_tau.csv')"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 105,
      "id": "19f3b4e9",
      "metadata": {
        "id": "19f3b4e9"
      },
      "outputs": [],
      "source": [
        "results = pd.read_csv('pairs_tau.csv', index_col=0)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 106,
      "id": "62a1f76e",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 423
        },
        "id": "62a1f76e",
        "outputId": "bc3a7805-b848-4541-897a-87eab55c6c21"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                      tau\n",
              "Instr1-Instr17   0.624150\n",
              "Instr1-Instr16   0.649660\n",
              "Instr2-Instr17   0.695578\n",
              "Instr1-Instr13   0.698980\n",
              "Instr1-Instr12   0.707483\n",
              "...                   ...\n",
              "Instr9-Instr10   0.976190\n",
              "Instr7-Instr8    0.981293\n",
              "Instr12-Instr13  0.984694\n",
              "Instr11-Instr12  0.988095\n",
              "Instr8-Instr9    0.988095\n",
              "\n",
              "[105 rows x 1 columns]"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-c107052c-02a9-4350-b35b-4c8aaea2cb5c\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>tau</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>Instr1-Instr17</th>\n",
              "      <td>0.624150</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr1-Instr16</th>\n",
              "      <td>0.649660</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr2-Instr17</th>\n",
              "      <td>0.695578</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr1-Instr13</th>\n",
              "      <td>0.698980</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr1-Instr12</th>\n",
              "      <td>0.707483</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>...</th>\n",
              "      <td>...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr9-Instr10</th>\n",
              "      <td>0.976190</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr7-Instr8</th>\n",
              "      <td>0.981293</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr12-Instr13</th>\n",
              "      <td>0.984694</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr11-Instr12</th>\n",
              "      <td>0.988095</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr8-Instr9</th>\n",
              "      <td>0.988095</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "<p>105 rows × 1 columns</p>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c107052c-02a9-4350-b35b-4c8aaea2cb5c')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-c107052c-02a9-4350-b35b-4c8aaea2cb5c button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-c107052c-02a9-4350-b35b-4c8aaea2cb5c');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-8f0ab531-e8da-4076-a65f-0778f70adf01\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-8f0ab531-e8da-4076-a65f-0778f70adf01')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-8f0ab531-e8da-4076-a65f-0778f70adf01 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ]
          },
          "metadata": {},
          "execution_count": 106
        }
      ],
      "source": [
        "results.sort_values(by='tau')"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 107,
      "id": "009fe8e4",
      "metadata": {
        "id": "009fe8e4"
      },
      "outputs": [],
      "source": [
        "def parse_pair(pair):\n",
        "    s1 = pair[:pair.find('-')]\n",
        "    s2 = pair[pair.find('-')+1:]\n",
        "    return s1,s2"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 108,
      "id": "c04ace25",
      "metadata": {
        "id": "c04ace25"
      },
      "outputs": [],
      "source": [
        "selected_stocks = []\n",
        "selected_pairs = []\n",
        "\n",
        "for pair in results.sort_values(by='tau', ascending=False).index:\n",
        "    s1,s2 = parse_pair(pair)\n",
        "    if (s1 not in selected_stocks) and (s2 not in selected_stocks):\n",
        "        selected_stocks.append(s1)\n",
        "        selected_stocks.append(s2)\n",
        "        selected_pairs.append(pair)\n",
        "\n",
        "    if len(selected_pairs) == 25:\n",
        "        break"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 109,
      "id": "d945eef0",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "d945eef0",
        "outputId": "4210aefd-c12f-433b-d13f-02a45b6d676f"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "['Instr11-Instr12', 'Instr8-Instr9', 'Instr5-Instr6', 'Instr16-Instr17', 'Instr3-Instr4', 'Instr7-Instr10', 'Instr1-Instr2']\n"
          ]
        }
      ],
      "source": [
        "print(selected_pairs)"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "6cd76ed1",
      "metadata": {
        "id": "6cd76ed1"
      },
      "source": [
        "# Fit marginals"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 110,
      "id": "59ec30a6",
      "metadata": {
        "id": "59ec30a6"
      },
      "outputs": [],
      "source": [
        "marginals_df = pd.DataFrame(index=selected_stocks, columns=['Distribution', 'AIC', 'BIC', 'KS_pvalue'])\n",
        "\n",
        "for stock in selected_stocks:\n",
        "    data = returns_form[stock]\n",
        "    dists = ['Normal', \"Student's t\", 'Logistic', 'Extreme']\n",
        "    best_aic = np.inf\n",
        "    for dist,name in zip([stats.norm, stats.t, stats.genlogistic, stats.genextreme], dists):\n",
        "        params = dist.fit(data)\n",
        "        dist_fit = dist(*params)\n",
        "        log_like = np.log(dist_fit.pdf(data)).sum()\n",
        "        aic = 2*len(params) - 2 * log_like\n",
        "        if aic<best_aic:\n",
        "            best_dist = name\n",
        "            best_aic = aic\n",
        "            best_bic = len(params) * np.log(len(data)) - 2 * log_like\n",
        "            ks_pval = stats.kstest(data, dist_fit.cdf, N=100)[1]\n",
        "    marginals_df.loc[stock] = [best_dist, best_aic, best_bic, ks_pval]"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 111,
      "id": "01160441",
      "metadata": {
        "scrolled": true,
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 363
        },
        "id": "01160441",
        "outputId": "efeffb7d-fb99-4cb4-c799-e7f8fcc53a37"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "        Distribution        AIC        BIC KS_pvalue\n",
              "Instr11       Normal  18.668491  22.452132  0.857479\n",
              "Instr12     Logistic   20.00376  25.679221  0.950316\n",
              "Instr8        Normal  24.349663  28.133304  0.861912\n",
              "Instr9        Normal  21.365813  25.149454  0.893472\n",
              "Instr5      Logistic  35.434551  41.110012  0.624959\n",
              "Instr6      Logistic  31.713455  37.388916  0.771655\n",
              "Instr16  Student's t   28.08629  33.761751  0.989581\n",
              "Instr17  Student's t  35.282557  40.958018  0.982366\n",
              "Instr3   Student's t  41.861609   47.53707  0.975836\n",
              "Instr4   Student's t  39.930366  45.605827  0.939207"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-d9beec67-1ab5-4d7d-8cd3-d834978f9559\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Distribution</th>\n",
              "      <th>AIC</th>\n",
              "      <th>BIC</th>\n",
              "      <th>KS_pvalue</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>Instr11</th>\n",
              "      <td>Normal</td>\n",
              "      <td>18.668491</td>\n",
              "      <td>22.452132</td>\n",
              "      <td>0.857479</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr12</th>\n",
              "      <td>Logistic</td>\n",
              "      <td>20.00376</td>\n",
              "      <td>25.679221</td>\n",
              "      <td>0.950316</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr8</th>\n",
              "      <td>Normal</td>\n",
              "      <td>24.349663</td>\n",
              "      <td>28.133304</td>\n",
              "      <td>0.861912</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr9</th>\n",
              "      <td>Normal</td>\n",
              "      <td>21.365813</td>\n",
              "      <td>25.149454</td>\n",
              "      <td>0.893472</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr5</th>\n",
              "      <td>Logistic</td>\n",
              "      <td>35.434551</td>\n",
              "      <td>41.110012</td>\n",
              "      <td>0.624959</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr6</th>\n",
              "      <td>Logistic</td>\n",
              "      <td>31.713455</td>\n",
              "      <td>37.388916</td>\n",
              "      <td>0.771655</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr16</th>\n",
              "      <td>Student's t</td>\n",
              "      <td>28.08629</td>\n",
              "      <td>33.761751</td>\n",
              "      <td>0.989581</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr17</th>\n",
              "      <td>Student's t</td>\n",
              "      <td>35.282557</td>\n",
              "      <td>40.958018</td>\n",
              "      <td>0.982366</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr3</th>\n",
              "      <td>Student's t</td>\n",
              "      <td>41.861609</td>\n",
              "      <td>47.53707</td>\n",
              "      <td>0.975836</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr4</th>\n",
              "      <td>Student's t</td>\n",
              "      <td>39.930366</td>\n",
              "      <td>45.605827</td>\n",
              "      <td>0.939207</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-d9beec67-1ab5-4d7d-8cd3-d834978f9559')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-d9beec67-1ab5-4d7d-8cd3-d834978f9559 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-d9beec67-1ab5-4d7d-8cd3-d834978f9559');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-b205b673-3c42-4df1-9121-11bddc234675\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-b205b673-3c42-4df1-9121-11bddc234675')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-b205b673-3c42-4df1-9121-11bddc234675 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ]
          },
          "metadata": {},
          "execution_count": 111
        }
      ],
      "source": [
        "marginals_df.head(10)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 112,
      "id": "637a20b5",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "637a20b5",
        "outputId": "efda69a9-af16-4cb5-9534-c6af573c6c88"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "array(['Normal', 'Logistic', \"Student's t\"], dtype=object)"
            ]
          },
          "metadata": {},
          "execution_count": 112
        }
      ],
      "source": [
        "marginals_df['Distribution'].unique()"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 113,
      "id": "1645a6e6",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 53
        },
        "id": "1645a6e6",
        "outputId": "61542e2b-7517-4cdb-8ef4-9d755155bfb5"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "Empty DataFrame\n",
              "Columns: [Distribution, AIC, BIC, KS_pvalue]\n",
              "Index: []"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-1ef47ad1-dba3-49b5-a48a-c5b0dacdda12\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Distribution</th>\n",
              "      <th>AIC</th>\n",
              "      <th>BIC</th>\n",
              "      <th>KS_pvalue</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-1ef47ad1-dba3-49b5-a48a-c5b0dacdda12')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-1ef47ad1-dba3-49b5-a48a-c5b0dacdda12 button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-1ef47ad1-dba3-49b5-a48a-c5b0dacdda12');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ]
          },
          "metadata": {},
          "execution_count": 113
        }
      ],
      "source": [
        "marginals_df[marginals_df['KS_pvalue'] < 0.05]"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "c4f2f28c",
      "metadata": {
        "id": "c4f2f28c"
      },
      "source": [
        "# Fit copulas"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "pip install git+https://github.com/syrte/ndtest"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "0cMJ65L6rZ-n",
        "outputId": "8dd279e7-0984-40d5-f07a-892d56f97847"
      },
      "id": "0cMJ65L6rZ-n",
      "execution_count": 114,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Collecting git+https://github.com/syrte/ndtest\n",
            "  Cloning https://github.com/syrte/ndtest to /tmp/pip-req-build-tlrndyh_\n",
            "  Running command git clone --filter=blob:none --quiet https://github.com/syrte/ndtest /tmp/pip-req-build-tlrndyh_\n",
            "  Resolved https://github.com/syrte/ndtest to commit 29ced2bfd65a3b8f51587cd5aa90ea19aa85e568\n",
            "  Preparing metadata (setup.py) ... \u001b[?25l\u001b[?25hdone\n",
            "Requirement already satisfied: numpy in /usr/local/lib/python3.10/dist-packages (from ndtest==0.1) (1.23.5)\n",
            "Requirement already satisfied: scipy in /usr/local/lib/python3.10/dist-packages (from ndtest==0.1) (1.11.4)\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "pip install copulas"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "kEPCxG81Kx_-",
        "outputId": "c1e9534a-a96b-4caa-87b1-4e4bcf8f53ca"
      },
      "id": "kEPCxG81Kx_-",
      "execution_count": 115,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Requirement already satisfied: copulas in /usr/local/lib/python3.10/dist-packages (0.10.0)\n",
            "Requirement already satisfied: plotly<6,>=5.10.0 in /usr/local/lib/python3.10/dist-packages (from copulas) (5.15.0)\n",
            "Requirement already satisfied: numpy<2,>=1.23.3 in /usr/local/lib/python3.10/dist-packages (from copulas) (1.23.5)\n",
            "Requirement already satisfied: scipy<2,>=1.9.2 in /usr/local/lib/python3.10/dist-packages (from copulas) (1.11.4)\n",
            "Requirement already satisfied: pandas>=1.3.4 in /usr/local/lib/python3.10/dist-packages (from copulas) (1.5.3)\n",
            "Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=1.3.4->copulas) (2.8.2)\n",
            "Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=1.3.4->copulas) (2023.3.post1)\n",
            "Requirement already satisfied: tenacity>=6.2.0 in /usr/local/lib/python3.10/dist-packages (from plotly<6,>=5.10.0->copulas) (8.2.3)\n",
            "Requirement already satisfied: packaging in /usr/local/lib/python3.10/dist-packages (from plotly<6,>=5.10.0->copulas) (23.2)\n",
            "Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil>=2.8.1->pandas>=1.3.4->copulas) (1.16.0)\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 116,
      "id": "8203e46e",
      "metadata": {
        "id": "8203e46e"
      },
      "outputs": [],
      "source": [
        "from copulas import *\n",
        "import ndtest # bivariate Kolmogorov-Smirnov"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "def log_likelihood(dataframe, model):\n",
        "  \"\"\"Calculates the log-likelihood of a dataframe under a model.\n",
        "\n",
        "  Args:\n",
        "    dataframe: A Pandas DataFrame containing the data.\n",
        "    model: A statistical model.\n",
        "\n",
        "  Returns:\n",
        "    The log-likelihood of the dataframe under the model.\n",
        "  \"\"\"\n",
        "\n",
        "  log_likelihoods = []\n",
        "  for i in range(len(dataframe)):\n",
        "    data_point = dataframe.iloc[i]\n",
        "    probability = model.predict(data_point)\n",
        "    log_likelihood = np.log(probability)\n",
        "    log_likelihoods.append(log_likelihood)\n",
        "\n",
        "  return np.sum(log_likelihoods)"
      ],
      "metadata": {
        "id": "evW5APNgMZS0"
      },
      "id": "evW5APNgMZS0",
      "execution_count": 28,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "u"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "hlh--Ylvo2De",
        "outputId": "c5e16305-0b86-4374-d1ce-80583e4879ff"
      },
      "id": "hlh--Ylvo2De",
      "execution_count": 69,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "array([0.5])"
            ]
          },
          "metadata": {},
          "execution_count": 69
        }
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 155,
      "id": "2ebd1e79",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "2ebd1e79",
        "outputId": "ac83499c-12be-42ca-b8f1-18a9b96ea6b0"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n"
          ]
        }
      ],
      "source": [
        "copulas_df = pd.DataFrame(index=selected_pairs, columns=['copula', 'parameter', 'aic', 'bic', 'KS_pvalue'])\n",
        "from copulas.multivariate import GaussianMultivariate\n",
        "\n",
        "\n",
        "for pair in selected_pairs:\n",
        "    s1,s2 = parse_pair(pair)\n",
        "    # fit marginals\n",
        "    params_s1 = stats.t.fit(returns_form[s1])\n",
        "    dist_s1 = stats.t(*params_s1)\n",
        "    params_s2 = stats.t.fit(returns_form[s2])\n",
        "    dist_s2 = stats.t(*params_s2)\n",
        "    # apply probability integral transform\n",
        "    u = dist_s1.cdf(returns_form[s1])\n",
        "    v = dist_s2.cdf(returns_form[s2])\n",
        "\n",
        "    best_aic = np.inf\n",
        "\n",
        "    for copula in [GaussianMultivariate()]:\n",
        "        copula.fit(u)\n",
        "        synthetic_data = copula.sample(num_rows=100)\n",
        "        L =(copula.log_probability_density(synthetic_data))\n",
        "        aic = 2 * len(copula.to_dict()) - 2 * L\n",
        "        best_aic = aic\n",
        "        best_bic = len(copula.to_dict()) * np.log(len(u)) - 2 * L\n",
        "        best_copula = copula\n",
        "            # calculate KS-pvalue\n",
        "        smp = copula.sample(len(u)) # generate sample from fit copula\n",
        "        copula.fit(v)\n",
        "        smv = copula.sample(len(v))\n",
        "        smv=smv.to_numpy()\n",
        "        smp=smp.to_numpy()\n",
        "        smv=np.reshape(smv,(49,))\n",
        "        smp=np.reshape(smp,(49,))\n",
        "        ks_pval= ndtest.ks2d2s(u,v,smp,smv)\n",
        "        best_param = copula.to_dict()\n",
        "\n",
        "    copulas_df.loc[pair] = [best_copula, best_param, best_aic, best_bic, ks_pval]"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 156,
      "id": "26ccd7de",
      "metadata": {
        "scrolled": true,
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 390
        },
        "id": "26ccd7de",
        "outputId": "e08cb1d7-d1f1-4e6b-9c46-d7866910f781"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                                 copula  \\\n",
              "Instr11-Instr12  GaussianMultivariate()   \n",
              "Instr8-Instr9    GaussianMultivariate()   \n",
              "Instr5-Instr6    GaussianMultivariate()   \n",
              "Instr16-Instr17  GaussianMultivariate()   \n",
              "Instr3-Instr4    GaussianMultivariate()   \n",
              "Instr7-Instr10   GaussianMultivariate()   \n",
              "Instr1-Instr2    GaussianMultivariate()   \n",
              "\n",
              "                                                         parameter  \\\n",
              "Instr11-Instr12  {'correlation': [[1.0]], 'univariates': [{'loc...   \n",
              "Instr8-Instr9    {'correlation': [[1.0]], 'univariates': [{'dat...   \n",
              "Instr5-Instr6    {'correlation': [[1.0]], 'univariates': [{'dat...   \n",
              "Instr16-Instr17  {'correlation': [[1.0]], 'univariates': [{'dat...   \n",
              "Instr3-Instr4    {'correlation': [[1.0]], 'univariates': [{'dat...   \n",
              "Instr7-Instr10   {'correlation': [[1.0]], 'univariates': [{'a':...   \n",
              "Instr1-Instr2    {'correlation': [[1.0]], 'univariates': [{'dat...   \n",
              "\n",
              "                                                               aic  \\\n",
              "Instr11-Instr12  [10.945875969436377, 9.872961642186889, 13.201...   \n",
              "Instr8-Instr9    [9.837900075984889, 10.071857041694972, 9.9143...   \n",
              "Instr5-Instr6    [9.837975269261115, 11.353314542657166, 10.462...   \n",
              "Instr16-Instr17  [11.277464739839763, 12.395602316233065, 9.883...   \n",
              "Instr3-Instr4    [9.84108093420927, 10.342401887740966, 10.0925...   \n",
              "Instr7-Instr10   [14.51212875108769, 12.06815944749146, 9.97146...   \n",
              "Instr1-Instr2    [9.90774418171833, 10.693821681850777, 10.1804...   \n",
              "\n",
              "                                                               bic KS_pvalue  \n",
              "Instr11-Instr12  [18.513157161878883, 17.440242834629395, 20.76...  0.008488  \n",
              "Instr8-Instr9    [17.405181268427395, 17.639138234137477, 17.48...  0.003173  \n",
              "Instr5-Instr6    [17.405256461703623, 18.920595735099674, 18.03...  0.077479  \n",
              "Instr16-Instr17  [18.84474593228227, 19.96288350867557, 17.4504...  0.036113  \n",
              "Instr3-Instr4    [17.408362126651774, 17.90968308018347, 17.659...  0.008459  \n",
              "Instr7-Instr10   [22.079409943530194, 19.635440639933968, 17.53...  0.008514  \n",
              "Instr1-Instr2    [17.475025374160836, 18.261102874293282, 17.74...  0.003089  "
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-a809bf2c-f5a1-418a-a5cd-a5572c76d6ab\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>copula</th>\n",
              "      <th>parameter</th>\n",
              "      <th>aic</th>\n",
              "      <th>bic</th>\n",
              "      <th>KS_pvalue</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>Instr11-Instr12</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'loc...</td>\n",
              "      <td>[10.945875969436377, 9.872961642186889, 13.201...</td>\n",
              "      <td>[18.513157161878883, 17.440242834629395, 20.76...</td>\n",
              "      <td>0.008488</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr8-Instr9</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'dat...</td>\n",
              "      <td>[9.837900075984889, 10.071857041694972, 9.9143...</td>\n",
              "      <td>[17.405181268427395, 17.639138234137477, 17.48...</td>\n",
              "      <td>0.003173</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr5-Instr6</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'dat...</td>\n",
              "      <td>[9.837975269261115, 11.353314542657166, 10.462...</td>\n",
              "      <td>[17.405256461703623, 18.920595735099674, 18.03...</td>\n",
              "      <td>0.077479</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr16-Instr17</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'dat...</td>\n",
              "      <td>[11.277464739839763, 12.395602316233065, 9.883...</td>\n",
              "      <td>[18.84474593228227, 19.96288350867557, 17.4504...</td>\n",
              "      <td>0.036113</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr3-Instr4</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'dat...</td>\n",
              "      <td>[9.84108093420927, 10.342401887740966, 10.0925...</td>\n",
              "      <td>[17.408362126651774, 17.90968308018347, 17.659...</td>\n",
              "      <td>0.008459</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr7-Instr10</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'a':...</td>\n",
              "      <td>[14.51212875108769, 12.06815944749146, 9.97146...</td>\n",
              "      <td>[22.079409943530194, 19.635440639933968, 17.53...</td>\n",
              "      <td>0.008514</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr1-Instr2</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'dat...</td>\n",
              "      <td>[9.90774418171833, 10.693821681850777, 10.1804...</td>\n",
              "      <td>[17.475025374160836, 18.261102874293282, 17.74...</td>\n",
              "      <td>0.003089</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-a809bf2c-f5a1-418a-a5cd-a5572c76d6ab')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-a809bf2c-f5a1-418a-a5cd-a5572c76d6ab button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-a809bf2c-f5a1-418a-a5cd-a5572c76d6ab');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-82bf4733-208a-4e30-81c2-32c6b832a00a\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-82bf4733-208a-4e30-81c2-32c6b832a00a')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-82bf4733-208a-4e30-81c2-32c6b832a00a button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ]
          },
          "metadata": {},
          "execution_count": 156
        }
      ],
      "source": [
        "copulas_df.head(10)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 157,
      "id": "154dab74",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "154dab74",
        "outputId": "ba10a654-595d-4c3e-f42d-aa57d0bb7a91"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "array([GaussianMultivariate(), GaussianMultivariate(),\n",
              "       GaussianMultivariate(), GaussianMultivariate(),\n",
              "       GaussianMultivariate(), GaussianMultivariate(),\n",
              "       GaussianMultivariate()], dtype=object)"
            ]
          },
          "metadata": {},
          "execution_count": 157
        }
      ],
      "source": [
        "copulas_df['copula'].unique()"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 158,
      "id": "ddeda9e6",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 341
        },
        "id": "ddeda9e6",
        "outputId": "b499929f-0621-45a0-d5d8-58e992af2c94"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                                 copula  \\\n",
              "Instr11-Instr12  GaussianMultivariate()   \n",
              "Instr8-Instr9    GaussianMultivariate()   \n",
              "Instr16-Instr17  GaussianMultivariate()   \n",
              "Instr3-Instr4    GaussianMultivariate()   \n",
              "Instr7-Instr10   GaussianMultivariate()   \n",
              "Instr1-Instr2    GaussianMultivariate()   \n",
              "\n",
              "                                                         parameter  \\\n",
              "Instr11-Instr12  {'correlation': [[1.0]], 'univariates': [{'loc...   \n",
              "Instr8-Instr9    {'correlation': [[1.0]], 'univariates': [{'dat...   \n",
              "Instr16-Instr17  {'correlation': [[1.0]], 'univariates': [{'dat...   \n",
              "Instr3-Instr4    {'correlation': [[1.0]], 'univariates': [{'dat...   \n",
              "Instr7-Instr10   {'correlation': [[1.0]], 'univariates': [{'a':...   \n",
              "Instr1-Instr2    {'correlation': [[1.0]], 'univariates': [{'dat...   \n",
              "\n",
              "                                                               aic  \\\n",
              "Instr11-Instr12  [10.945875969436377, 9.872961642186889, 13.201...   \n",
              "Instr8-Instr9    [9.837900075984889, 10.071857041694972, 9.9143...   \n",
              "Instr16-Instr17  [11.277464739839763, 12.395602316233065, 9.883...   \n",
              "Instr3-Instr4    [9.84108093420927, 10.342401887740966, 10.0925...   \n",
              "Instr7-Instr10   [14.51212875108769, 12.06815944749146, 9.97146...   \n",
              "Instr1-Instr2    [9.90774418171833, 10.693821681850777, 10.1804...   \n",
              "\n",
              "                                                               bic KS_pvalue  \n",
              "Instr11-Instr12  [18.513157161878883, 17.440242834629395, 20.76...  0.008488  \n",
              "Instr8-Instr9    [17.405181268427395, 17.639138234137477, 17.48...  0.003173  \n",
              "Instr16-Instr17  [18.84474593228227, 19.96288350867557, 17.4504...  0.036113  \n",
              "Instr3-Instr4    [17.408362126651774, 17.90968308018347, 17.659...  0.008459  \n",
              "Instr7-Instr10   [22.079409943530194, 19.635440639933968, 17.53...  0.008514  \n",
              "Instr1-Instr2    [17.475025374160836, 18.261102874293282, 17.74...  0.003089  "
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-a60be482-6a6e-41f9-bef3-d5d255d3f74a\" class=\"colab-df-container\">\n",
              "    <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>copula</th>\n",
              "      <th>parameter</th>\n",
              "      <th>aic</th>\n",
              "      <th>bic</th>\n",
              "      <th>KS_pvalue</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>Instr11-Instr12</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'loc...</td>\n",
              "      <td>[10.945875969436377, 9.872961642186889, 13.201...</td>\n",
              "      <td>[18.513157161878883, 17.440242834629395, 20.76...</td>\n",
              "      <td>0.008488</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr8-Instr9</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'dat...</td>\n",
              "      <td>[9.837900075984889, 10.071857041694972, 9.9143...</td>\n",
              "      <td>[17.405181268427395, 17.639138234137477, 17.48...</td>\n",
              "      <td>0.003173</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr16-Instr17</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'dat...</td>\n",
              "      <td>[11.277464739839763, 12.395602316233065, 9.883...</td>\n",
              "      <td>[18.84474593228227, 19.96288350867557, 17.4504...</td>\n",
              "      <td>0.036113</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr3-Instr4</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'dat...</td>\n",
              "      <td>[9.84108093420927, 10.342401887740966, 10.0925...</td>\n",
              "      <td>[17.408362126651774, 17.90968308018347, 17.659...</td>\n",
              "      <td>0.008459</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr7-Instr10</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'a':...</td>\n",
              "      <td>[14.51212875108769, 12.06815944749146, 9.97146...</td>\n",
              "      <td>[22.079409943530194, 19.635440639933968, 17.53...</td>\n",
              "      <td>0.008514</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>Instr1-Instr2</th>\n",
              "      <td>GaussianMultivariate()</td>\n",
              "      <td>{'correlation': [[1.0]], 'univariates': [{'dat...</td>\n",
              "      <td>[9.90774418171833, 10.693821681850777, 10.1804...</td>\n",
              "      <td>[17.475025374160836, 18.261102874293282, 17.74...</td>\n",
              "      <td>0.003089</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "    <div class=\"colab-df-buttons\">\n",
              "\n",
              "  <div class=\"colab-df-container\">\n",
              "    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-a60be482-6a6e-41f9-bef3-d5d255d3f74a')\"\n",
              "            title=\"Convert this dataframe to an interactive table.\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n",
              "    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n",
              "  </svg>\n",
              "    </button>\n",
              "\n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    .colab-df-buttons div {\n",
              "      margin-bottom: 4px;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "    <script>\n",
              "      const buttonEl =\n",
              "        document.querySelector('#df-a60be482-6a6e-41f9-bef3-d5d255d3f74a button.colab-df-convert');\n",
              "      buttonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "      async function convertToInteractive(key) {\n",
              "        const element = document.querySelector('#df-a60be482-6a6e-41f9-bef3-d5d255d3f74a');\n",
              "        const dataTable =\n",
              "          await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                    [key], {});\n",
              "        if (!dataTable) return;\n",
              "\n",
              "        const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "          + ' to learn more about interactive tables.';\n",
              "        element.innerHTML = '';\n",
              "        dataTable['output_type'] = 'display_data';\n",
              "        await google.colab.output.renderOutput(dataTable, element);\n",
              "        const docLink = document.createElement('div');\n",
              "        docLink.innerHTML = docLinkHtml;\n",
              "        element.appendChild(docLink);\n",
              "      }\n",
              "    </script>\n",
              "  </div>\n",
              "\n",
              "\n",
              "<div id=\"df-cb427d03-c0b3-4057-a9e2-a5a895cbd679\">\n",
              "  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-cb427d03-c0b3-4057-a9e2-a5a895cbd679')\"\n",
              "            title=\"Suggest charts\"\n",
              "            style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "  </button>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "      --bg-color: #E8F0FE;\n",
              "      --fill-color: #1967D2;\n",
              "      --hover-bg-color: #E2EBFA;\n",
              "      --hover-fill-color: #174EA6;\n",
              "      --disabled-fill-color: #AAA;\n",
              "      --disabled-bg-color: #DDD;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "      --bg-color: #3B4455;\n",
              "      --fill-color: #D2E3FC;\n",
              "      --hover-bg-color: #434B5C;\n",
              "      --hover-fill-color: #FFFFFF;\n",
              "      --disabled-bg-color: #3B4455;\n",
              "      --disabled-fill-color: #666;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart {\n",
              "    background-color: var(--bg-color);\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: var(--fill-color);\n",
              "    height: 32px;\n",
              "    padding: 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: var(--hover-bg-color);\n",
              "    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: var(--button-hover-fill-color);\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart-complete:disabled,\n",
              "  .colab-df-quickchart-complete:disabled:hover {\n",
              "    background-color: var(--disabled-bg-color);\n",
              "    fill: var(--disabled-fill-color);\n",
              "    box-shadow: none;\n",
              "  }\n",
              "\n",
              "  .colab-df-spinner {\n",
              "    border: 2px solid var(--fill-color);\n",
              "    border-color: transparent;\n",
              "    border-bottom-color: var(--fill-color);\n",
              "    animation:\n",
              "      spin 1s steps(1) infinite;\n",
              "  }\n",
              "\n",
              "  @keyframes spin {\n",
              "    0% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "      border-left-color: var(--fill-color);\n",
              "    }\n",
              "    20% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    30% {\n",
              "      border-color: transparent;\n",
              "      border-left-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    40% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-top-color: var(--fill-color);\n",
              "    }\n",
              "    60% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "    }\n",
              "    80% {\n",
              "      border-color: transparent;\n",
              "      border-right-color: var(--fill-color);\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "    90% {\n",
              "      border-color: transparent;\n",
              "      border-bottom-color: var(--fill-color);\n",
              "    }\n",
              "  }\n",
              "</style>\n",
              "\n",
              "  <script>\n",
              "    async function quickchart(key) {\n",
              "      const quickchartButtonEl =\n",
              "        document.querySelector('#' + key + ' button');\n",
              "      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n",
              "      quickchartButtonEl.classList.add('colab-df-spinner');\n",
              "      try {\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      } catch (error) {\n",
              "        console.error('Error during call to suggestCharts:', error);\n",
              "      }\n",
              "      quickchartButtonEl.classList.remove('colab-df-spinner');\n",
              "      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n",
              "    }\n",
              "    (() => {\n",
              "      let quickchartButtonEl =\n",
              "        document.querySelector('#df-cb427d03-c0b3-4057-a9e2-a5a895cbd679 button');\n",
              "      quickchartButtonEl.style.display =\n",
              "        google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "    })();\n",
              "  </script>\n",
              "</div>\n",
              "\n",
              "    </div>\n",
              "  </div>\n"
            ]
          },
          "metadata": {},
          "execution_count": 158
        }
      ],
      "source": [
        "copulas_df[copulas_df['KS_pvalue']<0.05]"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 166,
      "id": "0ae5481c",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "0ae5481c",
        "outputId": "f464fa45-6ab1-4493-d1cb-1d9d51b1e526"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/stats/_continuous_distns.py:5999: RuntimeWarning: divide by zero encountered in divide\n",
            "  return c**2 / (c**2 - n**2)\n",
            "/usr/local/lib/python3.10/dist-packages/scipy/optimize/_optimize.py:404: RuntimeWarning: Values in x were outside bounds during a minimize step, clipping to bounds\n",
            "  warnings.warn(\"Values in x were outside bounds during a \"\n"
          ]
        }
      ],
      "source": [
        "algo_returns = {}\n",
        "cl = 0.99 # confidence level\n",
        "\n",
        "for pair in selected_pairs:\n",
        "    s1,s2 = parse_pair(pair)\n",
        "\n",
        "    # fit marginals\n",
        "    params_s1 = stats.t.fit(returns_form[s1])\n",
        "    dist_s1 = stats.t(*params_s1)\n",
        "    params_s2 = stats.t.fit(returns_form[s2])\n",
        "    dist_s2 = stats.t(*params_s2)\n",
        "\n",
        "    # transform marginals\n",
        "    u = dist_s1.cdf(returns_form[s1])\n",
        "    v = dist_s2.cdf(returns_form[s2])\n",
        "\n",
        "    # fit copula\n",
        "    best_aic = np.inf\n",
        "    best_copula = None\n",
        "\n",
        "    copulas = [GaussianMultivariate()]\n",
        "    for copula in copulas:\n",
        "        copula.fit(u)\n",
        "        synthetic_data = copula.sample(num_rows=118)\n",
        "        L =np.average(copula.log_probability_density(synthetic_data))\n",
        "        aic = 2 * len(copula.to_dict()) - 2 * L\n",
        "        copula.fit(v)\n",
        "        synthetic_data1 = copula.sample(num_rows=118)\n",
        "        if aic < best_aic:\n",
        "            best_aic = aic\n",
        "            best_copula = copula\n",
        "\n",
        "    # calculate conditional probabilities\n",
        "    prob_s1 = []\n",
        "    prob_s2 = []\n",
        "\n",
        "    for u,v in zip(dist_s1.cdf(returns_trade[s1]), dist_s2.cdf(returns_trade[s2])):\n",
        "\n",
        "        prob_s1.append(best_copula.cdf(synthetic_data))\n",
        "        prob_s2.append(best_copula.cdf(synthetic_data1))\n",
        "    probs_trade = pd.DataFrame(np.vstack([prob_s1, prob_s2]))\n",
        "\n",
        "    # calculate positions\n",
        "    positions = pd.DataFrame(index=probs_trade.index, columns=probs_trade.columns)\n",
        "    long = False\n",
        "    short = False\n",
        "\n",
        "    for t in positions.index:\n",
        "        # if long position is open\n",
        "        if long:\n",
        "            if (probs_trade.loc[t][s1] > 0.5) or (probs_trade.loc[t][s2] < 0.5):\n",
        "                positions.loc[t] = [0,0]\n",
        "                long = False\n",
        "            else:\n",
        "                positions.loc[t] = [1,-1]\n",
        "\n",
        "        # if short position is open\n",
        "        elif short:\n",
        "            if (probs_trade.loc[t][s1] < 0.5) or (probs_trade.loc[t][s2] > 0.5):\n",
        "                positions.loc[t] = [0,0]\n",
        "                short = False\n",
        "            else:\n",
        "                positions.loc[t] = [-1,1]\n",
        "\n",
        "\n",
        "    # calculate returns\n",
        "    algo_ret = (returns_trade * positions.shift()).sum(axis=1)\n",
        "    algo_returns[pair] = algo_ret"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 167,
      "id": "e77b4753",
      "metadata": {
        "id": "e77b4753"
      },
      "outputs": [],
      "source": [
        "returns = pd.DataFrame.from_dict(algo_returns)\n",
        "returns = np.exp(returns) - 1 # convert log-returns to simple returns"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 168,
      "id": "1c6de59b",
      "metadata": {
        "id": "1c6de59b"
      },
      "outputs": [],
      "source": [
        "total_ret = returns.sum(axis=1) / len(returns.columns) * 2 # double capital (from short positions)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 169,
      "id": "ac4d9394",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "ac4d9394",
        "outputId": "b1b1f438-3ed1-4d0e-dbec-1bb24f9de670"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "\r[*********************100%%**********************]  1 of 1 completed"
          ]
        },
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "ERROR:yfinance:\n",
            "1 Failed download:\n",
            "ERROR:yfinance:['VBR']: ValueError(\"time data '11/19/2021' does not match format '%Y-%m-%d'\")\n"
          ]
        },
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "\n"
          ]
        }
      ],
      "source": [
        "import yfinance as yf\n",
        "vbr_price = yf.download('VBR', start=trade_start, end=trade_end)\n",
        "vbr_price = vbr_price['Adj Close']\n",
        "vbr_ret = vbr_price.pct_change().dropna()"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 170,
      "id": "c8cc8432",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 421
        },
        "id": "c8cc8432",
        "outputId": "f92390ad-fbb5-490b-bda8-ae222acad304"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "<matplotlib.legend.Legend at 0x7add212d6b90>"
            ]
          },
          "metadata": {},
          "execution_count": 170
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "<Figure size 1800x600 with 1 Axes>"
            ],
            "image/png": "iVBORw0KGgoAAAANSUhEUgAABa8AAAH5CAYAAACGZcJpAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/bCgiHAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAz/ElEQVR4nO3de5zWdZ3//+cMqMgxYFAy0UzXwQQUyptBw5dS3M1DtsCalHlaynP1dTV1i1TMhEy8kanJN8xDeYjddE2FSnc77H7Fw5pnyTVRwSAdDgpynpnr98f35+xOHmAUmDcX9/vt5k2uz+d9zfX+dHtx3aaH13ymplKpVAIAAAAAAAWp7egNAAAAAADAXxKvAQAAAAAojngNAAAAAEBxxGsAAAAAAIojXgMAAAAAUBzxGgAAAACA4ojXAAAAAAAUR7wGAAAAAKA4nTt6A5tSY+OKjt5Ch6itrUmfPt2ydOnKtLRUOno78J6YZ6qFWaaamGeqiXmmWphlqol5plqY5fbp16/HBtf45HUVqK2tSU1NTWprazp6K/CemWeqhVmmmphnqol5plqYZaqJeaZamOVNT7wGAAAAAKA44jUAAAAAAMURrwEAAAAAKI54DQAAAABAccRrAAAAAACKI14DAAAAAFAc8RoAAAAAgOKI1wAAAAAAFEe8BgAAAACgOOI1AAAAAADFEa8BAAAAACiOeA0AAAAAsI1YtGhhGho+mmeffaajt7JB4jUAAAAAAMURrwEAAAAAKE7njt4AAAAAAACbzv3335cbbrg2zz//XGprO2XQoMH56lfPzgc+sOtbrv+P//htrrxyWl555eXsu+/gHHbYp/Ptb1+Y2bN/nR49eiRJfvObf82MGdPzpz8tSN++dRk37uh87nNf2KzXIV4DAAAAAGyEVWuasmjpyrc817lTbXosX5sVK9akqbllk73m+/t0S9cu7cu4a9aszvjxx2TPPf8qq1evyowZ1+TrXz87111385vWLlz4p0yceG6OOupz+fSnP5P/+q9nctVV32uz5g9/mJvzz//H/P3fn5SDDjokTz75eKZOnZJevXrlsMM+/Z6u752I1wAAAAAAG7BqTVPO+cF9WbW2aYu+btcdOufSU0e0K2B/4hMHt3n8j/94QY44YnReeGFedtyxa5tzd9xxW3bbbfecfvpXkyS77fbBzJv3XG688Ueta37605vykY8ckBNO+OL/v2b3vPDCvNx884/FawAAAAAANs6CBfMzY8Y1efrpp/Laa6+mUvl/nwR/+eU/54Mf/FCbtfPnv5iBAz/c5tiHP7xvm8cvvvh8GhpGtTk2ePB+mTnzljQ3N6dTp06b4SrEawAAAACADera5f99AvodbxvSo0sRtw0599wz07//+3Puud9IXV2/tLS05Ljjjs769Vv2U+PvlXgNAAAAALARunbpnD136fWW5zp3rk3v3t2ybNnKNDVtunjdXq+99mrmz38x5547MfvtNzRJ8thjj77t+t122z333/9/2xybO/fpNo93332PPPHEY22OPfHEYxkwYLfN9qnrJKndbF8ZAAAAAIAtqkePnunVq1d+/vPb8tJLC/Lwww/lyisvf9v1n/nM2Lz44gu5+uorMn/+i/nXf70ns2fflSSpqalJkowf/4U8/PBDuf76GZk//8XMnn1Xfvazmfnc547drNciXgMAAAAAVIna2tpceOEleeaZP+S4447OFVdcntNO++rbrt9llw/k4ou/k9/97tc54YTP5V/+5Z9z3HEnJkm22267JEl9/cBcdNHk3Hvvr3LccUdnxoxrMmHCKZv1lzUmSU2lUqls1lfYghobV3T0FjpEKT+SAJuCeaZamGWqiXmmmphnqoVZppqYZ6pFNc3yDTdcmzvuuC233Xb3ZnuNfv16bHCNe14DAAAAAGzDbrvtn7LPPh9Oz5698sQTj+WWW36csWM/29HbEq8BAAAAALZlL700PzfccG1WrFienXbqn/Hjv5AvfOGEjt6WeA0AAAAAsC37ylfOyle+clZHb+NN/MJGAAAAAACKI14DAAAAAFAc8RoAAAAAgOKI1wAAAAAAFEe8BgAAAACgOOI1AAAAAADFEa8BAAAAAChO547eAAAAAAAA790555yZpqamXH7599907rHHHsnpp38p119/S0444XOtxzt37pydd+6fQw89IscfPyE1NTVJkmuvnZ7rrvthkqS2tjZ1df1y4IEjcuqpZ6Rnz15b5HrEawAAAACAKnDEEZ/JxInn5JVXXs5OO+3c5tzdd/88Awd+ON26dUuSTJt2dfbY40NZv359Hn/80UyZcnHq6upyxBF/2/qcPfb4UKZNuzotLS154YXnM3nyRVm58vVcdNHkLXI9bhsCAAAAAFAFRoxoyPve1zuzZt3Z5viqVavy61//a4444sjWY7169UrfvnXp3//9+eu/PjSDB++XZ555ps3zOnXqnL5969Kv30454IAD88lPjs5DDz2wRa4l8clrAAAAAICNsrppdf68svEtz3XuVJPFLTtmxfLVaWqubLLX7N+tX3bsvONGre3cuXM+9anDMnv2XW1uAfLrX9+blpbmjB79qaxYsfxNz/vDH57OM8/Mzac+ddjbfu1FixbmwQfnZLvttnt3F/IuiNcAAAAAABuwuml1vnnflKxuWr1FX3fHzjvmWyPO2+iAffjhn8nNN/84jzzycIYN+2iSZNasO/OJTxyU7t27t8brU075+9TW1mb9+vVpamrKkUeOyaGHHtHma82b98cccsjINDe3ZN26tUmSL3/5zE14de9MvAYAAAAAqBK77/7BDB48JHff/fMMG/bRvPTSgjz22COZMOGaNusmTZqcD35wjzQ1NWXevOcybdp306NHz5x66pdb1+y22+6ZMuXyrFu3Nr/85ew8++x/Zdy4o7fYtYjXAAAAAAAb8MYnoN/ptiE9enbsbUPecPjhn8m0ad/NWWedm7vv/nk+8IFdM3ToR9qs2XnnnbPrrgOSJB/84B75059eyowZP8jf//1J2WGHHZIknTtv17rm1FO/nK997au57rof5ktfOnUTXNmGidcAAAAAABthx847Zo9eu73luc6da9O7d7csq12ZpqaWLbyztg466JB873tT86tf/SK//OWs/O3fjmu9//Xb6dSpNs3NzWlqWt8ar//S8cdPyFe+cmrGjPm71NX12xxbb6N2s78CAAAAAABbTNeuXXPwwYdk+vSrsmTJ4hx22KfftOa1117LkiWL88orL2fOnP+bf/qnWzNs2EfTrVv3t/26gwYNyZ577pUbb/zR5tx+K5+8BgAAAACoMkcc8ZncddcdGT7842/5Ken//b9PS5J06tQpffvW5WMf+3hOOum0DX7do4/+fC65ZFKOOeb47Lxz/02+7/+pplKpbLobsHSwxsYVHb2FDtH6IwnLOv5HEuC9Ms9UC7NMNTHPVBPzTLUwy1QT80y1MMvt069fjw2ucdsQAAAAAACKI14DAAAAAFAc8RoAAAAAgOKI1wAAAAAAFEe8BgAAAACgOOI1AAAAAADFEa8BAAAAACiOeA0AAAAAQHHEawAAAAAAiiNeAwAAAABQHPEaAAAAAIDiiNcAAAAAABRHvAYAAAAAoDjiNQAAAAAAxWl3vH7ooYdyyimnpKGhIfX19bn33ns3+JwHHnggY8aMyaBBg3LIIYfktttue9u1/+f//J/U19fn29/+dnu3BgAAAABAlWh3vF61alXq6+tzwQUXbNT6BQsW5OSTT86BBx6YO+64I8cff3wmTpyYf//3f3/T2scffzy33npr6uvr27stAAAAAACqSOf2PmHUqFEZNWrURq+/9dZbs+uuu+a8885Lkuy55555+OGHc/3112fkyJGt61auXJmvfe1rufjii/ODH/ygvdtKktTW1qS2tuZdPXdr1qlTbZt/w9bMPFMtzDLVxDxTTcwz1cIsU03MM9XCLG967Y7X7fXoo49m+PDhbY41NDTkkksuaXPsoosuyqhRozJixIh3Ha/79OmWmpptL16/oWfPHTt6C7DJmGeqhVmmmphnqol5plqYZaqJeaZamOVNZ7PH68WLF6eurq7Nsbq6urz++utZs2ZNunTpkrvvvjtPP/10/vmf//k9vdbSpSu32U9e9+y5Y5YvX53m5paO3g68J+aZamGWqSbmmWpinqkWZplqYp6pFma5fXr37rbBNZs9Xm/IokWL8u1vfzs/+tGPssMOO7ynr9XSUklLS2UT7Wzr09zckqYmfzGoDuaZamGWqSbmmWpinqkWZplqYp6pFmZ509ns8bquri6LFy9uc2zx4sXp3r17unTpkqeeeipLlizJ2LFjW883NzfnoYceyk033ZQnnnginTp12tzbBAAAAACgIJs9Xu+///753e9+1+bYfffdl/333z9J8rGPfSx33nlnm/P/+I//mA996EP50pe+JFwDAAAAAGyD2h2vV65cmfnz57c+fumllzJ37tz06tUru+yyS6ZOnZqXX345l156aZJk/Pjxuemmm3LppZdm3Lhxuf/++zN79uxMnz49SdK9e/fsvffebV6ja9eued/73vem4wAAAAAAbBvaHa+ffPLJHHfcca2PJ0+enCQZM2ZMpkyZksbGxixatKj1/IABAzJ9+vRMnjw5N954Y/r375+LL744I0eO3ATbBwAAAACgGtVUKpWq+Q2HjY0rOnoLHaJz59r07t0ty5atdDN4tnrmmWphlqkm5plqYp6pFmaZamKeqRZmuX369euxwTW1W2AfAAAAAADQLuI1AAAAAADFEa8BAAAAACiOeA0A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AMURrwEAAAAAKI54DQAAAABAccRrAAAAAACK867i9U033ZSDDjoogwcPzlFHHZXHH3/8bdeuX78+V155ZUaPHp3BgwfnyCOPzO9+97s3rXv55Zdz9tln58ADD8yQIUPy6U9/Ok888cS72R4AAAAAAFu5dsfrWbNmZfLkyTn99NNz++23Z+DAgZkwYUKWLFnyluunTZuWn/70p/nmN7+ZWbNmZfz48TnjjDPy9NNPt6557bXX8rnPfS7bbbddfvjDH+buu+/Oueeem169er37KwMAAAAAYKtVU6lUKu15wlFHHZXBgwfn/PPPT5K0tLRk1KhROfbYY3PSSSe9aX1DQ0NOPfXUHHPMMa3HvvzlL2eHHXbIZZddliS57LLL8vvf/z4333zze7mWLFnyempra97T19gadepUm549d8zy5avT3NzS0duB98Q8Uy3MMtXEPFNNzDPVwixTTcwz1cIst0/v3t02uKZze77gunXr8tRTT+Xkk09uPVZbW5sRI0bkkUceecvnrF+/Pttvv32bYzvssEN+//vftz7+t3/7tzQ0NOQrX/lKHnrooey88875/Oc/n89+9rPt2V769OmWmpptL16/oWfPHTt6C7DJmGeqhVmmmphnqol5plqYZaqJeaZamOVNp13xetmyZWlubk7fvn3bHO/bt2/mzZv3ls9paGjI9ddfnwMOOCC77bZb5syZk3vuuSfNzc2taxYsWJBbbrklJ554Yk455ZQ88cQTufjii7PddttlzJgxG72/pUtX+uS1/6rDVs48Uy3MMtXEPFNNzDPVwixTTcwz1cIst88m/+T1u/GNb3wjEydOzKGHHpqampoMGDAgY8eOzc9+9rPWNZVKJYMGDco//MM/JEk+/OEP59lnn82tt97arnjd0lJJS0u77oJSVZqbW9LU5C8G1cE8Uy3MMtXEPFNNzDPVwixTTcwz1cIsbzrt+oWNvXv3TqdOnd70yxmXLFmSurq6t3xOnz59cvXVV+fRRx/Nr3/96/ziF79I165dM2DAgNY1/fr1y5577tnmeR/60IeycOHC9mwPAAAAAIAq0a54vf3222fffffNnDlzWo+1tLRkzpw5GTp06Ds+d4cddsjOO++cpqam/OpXv8rBBx/cem7YsGF5/vnn26x/4YUX8oEPfKA92wMAAAAAoEq0K14nyYknnpiZM2fm9ttvz3PPPZcLL7wwq1evztixY5Mk55xzTqZOndq6/rHHHsuvfvWrLFiwIP/5n/+ZL37xi2lpackXv/jF1jXHH398HnvssVxzzTV58cUXc+edd2bmzJn5/Oc/vwkuEQAAAACArU2773l92GGHZenSpbniiivS2NiYffbZJzNmzGi9bciiRYtSW/vfTXzt2rWZNm1aFixYkK5du2bUqFG59NJL07Nnz9Y1Q4YMyZVXXpnLL788V111VXbdddd8/etfz5FHHrkJLhEAAAAAgK1NTaVSqZrfcNjYuKKjt9AhOneuTe/e3bJs2Uo3g2erZ56pFmaZamKeqSbmmWphlqkm5plqYZbbp1+/Hhtc0+7bhgAAAAAAwOYmXgMAAAAAUBzxGgAAAACA4ojXAAAAAAAUR7wGAAAAAKA44jUAAAAAAMURrwEAAAAAKI54DQAAAABAccRrAAAAAACKI14DAAAAAFAc8RoAAAAAgOKI1wAAAAAAFEe8BgAAAACgOOI1AAAAAADFEa8BAAAAACiOeA0AAAAAQHHEawAAAAAAiiNeAwAAAABQHPEaAAAAAIDiiNcAAAAAABRHvAYAAAAAoDjiNQAAAAAAxRGvAQAAAAAojngNAAAAAEBxxGsAAAAAAIojXgMAAAAAUBzxGgAAAACA4ojXAAAAAAAUR7wGAAAAAKA44jUAAAAAAMURrwEAAAAAKI54DQAAAABAccRrAAAAAACKI14DAAAAAFAc8RoAAAAAgOKI1wAAAAAAFEe8BgAAAACgOOI1AAAAAADFEa8BAAAAACiOeA0AAAAAQHHEawAAAAAAiiNeAwAAAABQHPEaAAAAAIDiiNcAAAAAABRHvAYAAAAAoDjiNQAAAAAAxRGvAQAAAAAojngNAAAAAEBxxGsAAAAAAIojXgMAAAAAUBzxGgAAAACA4ojXAAAAAAAUR7wGAAAAAKA44jUAAAAAAMURrwEAAAAAKE5NpVKpdPQmAAAAAADgf/LJawAAAAAAiiNeAwAAAABQHPEaAAAAAIDiiNcAAAAAABRHvAYAAAAAoDjiNQAAAAAAxRGvAQAAAAAojngNAAAAAEBxxGsAAAAAAIojXgMAAAAAUBzxGgAAAACA4ojXVeCmm27KQQcdlMGDB+eoo47K448/3tFbgnf0/e9/P/X19W3++dSnPtV6fu3atZk0aVIOPPDADB06NF/+8pezePHiDtwx/LeHHnoop5xyShoaGlJfX5977723zflKpZLvfe97aWhoyJAhQ3LCCSfkhRdeaLPm1VdfzVlnnZVhw4blox/9aL7+9a9n5cqVW/AqYMOzfN55573pvXrChAlt1phlSjB9+vSMGzcuQ4cOzfDhw3Paaadl3rx5bdZszPcWCxcuzEknnZT99tsvw4cPz3e+8500NTVtyUuBjZrnY4899k3vz+eff36bNeaZEtx888359Kc/nWHDhmXYsGE5+uij89vf/rb1vPdmthYbmmXvy5uXeL2VmzVrViZPnpzTTz89t99+ewYOHJgJEyZkyZIlHb01eEd/9Vd/lf/4j/9o/efmm29uPXfJJZfk17/+daZNm5Yf//jHeeWVV3LGGWd04G7hv61atSr19fW54IIL3vL8D3/4w/z4xz/OhRdemJkzZ2bHHXfMhAkTsnbt2tY1Z599dv74xz/muuuuyzXXXJP//M//fNM3N7C5bWiWk2TkyJFt3qsvv/zyNufNMiV48MEHc8wxx2TmzJm57rrr0tTUlAkTJmTVqlWtazb0vUVzc3NOPvnkrF+/PrfeemumTJmS22+/PVdccUVHXBLbsI2Z5yT57Gc/2+b9+Zxzzmk9Z54pRf/+/XP22Wfntttuy89+9rN87GMfy+mnn55nn302ifdmth4bmuXE+/JmVWGr9nd/93eVSZMmtT5ubm6uNDQ0VKZPn96Bu4J3dsUVV1SOPPLItzy3fPnyyr777luZPXt267E//vGPlb333rvyyCOPbKEdwsbZe++9K/fcc0/r45aWlsrHP/7xyowZM1qPLV++vDJo0KDKXXfdValU/nueH3/88dY1v/3tbyv19fWVP//5z1tu8/A//OUsVyqVyrnnnls59dRT3/Y5ZplSLVmypLL33ntXHnzwwUqlsnHfW/zmN7+pDBw4sNLY2Ni65uabb64MGzassnbt2i26f/if/nKeK5VK5Qtf+ELl4osvftvnmGdKdsABB1RmzpzpvZmt3huzXKl4X97cfPJ6K7Zu3bo89dRTGTFiROux2trajBgxIo888kgH7gw27MUXX0xDQ0MOPvjgnHXWWVm4cGGS5Mknn8z69evbzPWee+6ZXXbZJY8++mgH7RY2zksvvZTGxsY289ujR4/st99+re/LjzzySHr27JnBgwe3rhkxYkRqa2vd9oniPPjggxk+fHj+5m/+JhdccEGWLVvWes4sU6oVK1YkSXr16pVk4763ePTRR7P33nunrq6udU1DQ0Nef/31/PGPf9xym4e/8Jfz/IY777wzBx54YI444ohMnTo1q1evbj1nnilRc3Nz7r777qxatSpDhw713sxW6y9n+Q3elzefzh29Ad69ZcuWpbm5OX379m1zvG/fvm+6LxqUZMiQIZk8eXL22GOPNDY25qqrrsoxxxyTO++8M4sXL852222Xnj17tnlO375909jY2EE7ho3zxoy+1fvyG/fvW7x4cfr06dPmfOfOndOrVy8zTlFGjhyZQw45JLvuumsWLFiQyy+/PF/60pfy05/+NJ06dTLLFKmlpSWXXHJJhg0blr333jtJNup7i8WLF7f5P5RJWh+bZzrKW81zkhxxxBHZZZddstNOO+WZZ57JZZddlueffz5XXnllEvNMWZ555pmMHz8+a9euTdeuXXPVVVdlr732yty5c703s1V5u1lOvC9vbuI1sMWNGjWq9c8DBw7Mfvvtl09+8pOZPXt2unTp0oE7A+ANhx9+eOuf3/jFM6NHj279NDaUaNKkSXn22Wfb/C4N2Fq93TwfffTRrX+ur69Pv379csIJJ2T+/PnZbbfdtvQ24R3tscce+Zd/+ZesWLEiv/zlL3PuuefmJz/5SUdvC9rt7WZ5r7328r68mbltyFasd+/e6dSp05t+OeOSJUve9F90oGQ9e/bMBz/4wcyfPz91dXVZv359li9f3mbNkiVL0q9fvw7aIWycN2b0nd6X6+rqsnTp0jbnm5qa8tprr5lxijZgwID07t07L774YhKzTHkuuuii/OY3v8kNN9yQ/v37tx7fmO8t6urqWn9C5g1vPDbPdIS3m+e3st9++yVJm/dn80wptt9+++y+++4ZNGhQzjrrrAwcODA33nij92a2Om83y2/F+/KmJV5vxbbffvvsu+++mTNnTuuxlpaWzJkzp819d6B0K1euzIIFC9KvX78MGjQo2223XZu5njdvXhYuXJj999+/4zYJG2HXXXdNv3792szv66+/nscee6z1fXno0KFZvnx5nnzyydY1999/f1paWjJkyJAtvmfYWH/+85/z6quvtn6DbZYpRaVSyUUXXZR77rknN9xwQwYMGNDm/MZ8b7H//vvnv/7rv9r8x8f77rsv3bt3b/2RYNgSNjTPb2Xu3LlJ/juAmGdK1tLSknXr1nlvZqv3xiy/Fe/Lm5bbhmzlTjzxxJx77rkZNGhQhgwZkhtuuCGrV6/O2LFjO3pr8La+853v5JOf/GR22WWXvPLKK/n+97+f2traHHHEEenRo0fGjRuXKVOmpFevXunevXsuvvjiDB06VLymCCtXrsz8+fNbH7/00kuZO3duevXqlV122SXHHXdcfvCDH2T33XfPrrvumu9973vZaaedMnr06CT/7xfRjBw5Mt/85jczadKkrF+/Pt/61rdy+OGHZ+edd+6oy2Ib9E6z3KtXr1x55ZX5m7/5m9TV1WXBggX57ne/m9133z0jR45MYpYpx6RJk3LXXXfl6quvTrdu3VrvHdmjR4906dJlo763aGhoyF577ZVzzjknX/va19LY2Jhp06blmGOOyfbbb9+BV8e2ZkPzPH/+/Nx5550ZNWpU3ve+9+WZZ57J5MmTc8ABB2TgwIFJzDPlmDp1av7X//pfef/735+VK1fmrrvuyoMPPphrr73WezNblXeaZe/Lm19NpVKpdPQmeG9+8pOf5Nprr01jY2P22WefTJw4sfVHFKBEZ555Zh566KG8+uqr6dOnTz7ykY/kzDPPbL0X1Nq1azNlypTcfffdWbduXRoaGnLBBRf4cRqK8MADD+S444570/ExY8ZkypQpqVQqueKKKzJz5swsX748H/nIR3LBBRdkjz32aF376quv5lvf+lb+7d/+LbW1tfnrv/7rTJw4Md26dduSl8I27p1m+cILL8zpp5+ep59+OitWrMhOO+2Uj3/84/nqV7/a5tZkZpkS1NfXv+XxyZMnt36gY2O+t/jTn/6UCy+8MA8++GB23HHHjBkzJmeddVY6d/Z5H7acDc3zokWL8rWvfS3PPvtsVq1alfe///0ZPXp0TjvttHTv3r11vXmmBF//+tdz//3355VXXkmPHj1SX1+fL33pS/n4xz+exHszW493mmXvy5ufeA0AAAAAQHHc8xoAAAAAgOKI1wAAAAAAFEe8BgAAAACgOOI1AAAAAADFEa8BAAAAACiOeA0AAAAAQHHEawAAAAAAiiNeAwAAAABQHPEaAAAAAIDiiNcAAAAAABRHvAYAAAAAoDj/H2r4ohWHFYalAAAAAElFTkSuQmCC\n"
          },
          "metadata": {}
        }
      ],
      "source": [
        "plt.figure(figsize=(18,6))\n",
        "plt.plot(np.nancumprod(total_ret + 1), label='algo')\n",
        "plt.plot(np.nancumprod(vbr_ret + 1), label='VBR')\n",
        "plt.legend()"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 171,
      "id": "7416f552",
      "metadata": {
        "id": "7416f552"
      },
      "outputs": [],
      "source": [
        "def calculate_metrics(cumret):\n",
        "    '''\n",
        "    calculate performance metrics from cumulative returns\n",
        "    '''\n",
        "    total_return = (cumret[-1] - cumret[0])/cumret[0]\n",
        "    apr = (1+total_return)**(252/len(cumret)) - 1\n",
        "    rets = pd.DataFrame(cumret).pct_change()\n",
        "    sharpe = np.sqrt(252) * np.nanmean(rets) / np.nanstd(rets)\n",
        "\n",
        "    # maxdd and maxddd\n",
        "    highwatermark=np.zeros(cumret.shape)\n",
        "    drawdown=np.zeros(cumret.shape)\n",
        "    drawdownduration=np.zeros(cumret.shape)\n",
        "    for t in np.arange(1, cumret.shape[0]):\n",
        "        highwatermark[t]=np.maximum(highwatermark[t-1], cumret[t])\n",
        "        drawdown[t]=cumret[t]/highwatermark[t]-1\n",
        "        if drawdown[t]==0:\n",
        "            drawdownduration[t]=0\n",
        "        else:\n",
        "            drawdownduration[t]=drawdownduration[t-1]+1\n",
        "    maxDD=np.min(drawdown)\n",
        "    maxDDD=np.max(drawdownduration)\n",
        "\n",
        "    return total_return, apr, sharpe, maxDD, maxDDD"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 172,
      "id": "c5c0c01f",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 383
        },
        "id": "c5c0c01f",
        "outputId": "59619cdd-49f1-4c44-cb2f-67cd477f88df"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "<ipython-input-171-8ed914f6bee2>:8: RuntimeWarning: invalid value encountered in double_scalars\n",
            "  sharpe = np.sqrt(252) * np.nanmean(rets) / np.nanstd(rets)\n"
          ]
        },
        {
          "output_type": "error",
          "ename": "IndexError",
          "evalue": "ignored",
          "traceback": [
            "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
            "\u001b[0;31mIndexError\u001b[0m                                Traceback (most recent call last)",
            "\u001b[0;32m<ipython-input-172-66f6a6fcba3e>\u001b[0m in \u001b[0;36m<cell line: 3>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0mmetrics\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mpd\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mDataFrame\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mindex\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Algo'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'VBR'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcolumns\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Total return'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'APR'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'Sharpe'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'MaxDD'\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'MaxDDD'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      2\u001b[0m \u001b[0mmetrics\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Algo'\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mcalculate_metrics\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mnancumprod\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mtotal_ret\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 3\u001b[0;31m \u001b[0mmetrics\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'VBR'\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mcalculate_metrics\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mnancumprod\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mvbr_ret\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      4\u001b[0m \u001b[0mmetrics\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
            "\u001b[0;32m<ipython-input-171-8ed914f6bee2>\u001b[0m in \u001b[0;36mcalculate_metrics\u001b[0;34m(cumret)\u001b[0m\n\u001b[1;32m      3\u001b[0m     \u001b[0mcalculate\u001b[0m \u001b[0mperformance\u001b[0m \u001b[0mmetrics\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0mcumulative\u001b[0m \u001b[0mreturns\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      4\u001b[0m     '''\n\u001b[0;32m----> 5\u001b[0;31m     \u001b[0mtotal_return\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0mcumret\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m-\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m-\u001b[0m \u001b[0mcumret\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m/\u001b[0m\u001b[0mcumret\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      6\u001b[0m     \u001b[0mapr\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m+\u001b[0m\u001b[0mtotal_return\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m**\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m252\u001b[0m\u001b[0;34m/\u001b[0m\u001b[0mlen\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mcumret\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m-\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      7\u001b[0m     \u001b[0mrets\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mpd\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mDataFrame\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mcumret\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mpct_change\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
            "\u001b[0;31mIndexError\u001b[0m: index -1 is out of bounds for axis 0 with size 0"
          ]
        }
      ],
      "source": [
        "metrics = pd.DataFrame(index=['Algo', 'VBR'], columns=['Total return', 'APR', 'Sharpe', 'MaxDD', 'MaxDDD'])\n",
        "metrics.loc['Algo'] = calculate_metrics(np.nancumprod(total_ret + 1))\n",
        "metrics.loc['VBR'] = calculate_metrics(np.nancumprod(vbr_ret + 1))\n",
        "metrics"
      ]
    },
    {
      "cell_type": "markdown",
      "id": "8f8782d4",
      "metadata": {
        "id": "8f8782d4"
      },
      "source": [
        "# Exit earlier"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 173,
      "id": "5a2332c8",
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 245
        },
        "id": "5a2332c8",
        "outputId": "0b0566e8-0666-4f89-ebaa-7cd5452c293d"
      },
      "outputs": [
        {
          "output_type": "error",
          "ename": "NameError",
          "evalue": "ignored",
          "traceback": [
            "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
            "\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)",
            "\u001b[0;32m<ipython-input-173-3aa13d3f8268>\u001b[0m in \u001b[0;36m<cell line: 4>\u001b[0;34m()\u001b[0m\n\u001b[1;32m     19\u001b[0m     \u001b[0mbest_copula\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     20\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 21\u001b[0;31m     \u001b[0mcopulas\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0mGaussianCopula\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mClaytonCopula\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mGumbelCopula\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mFrankCopula\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mJoeCopula\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     22\u001b[0m     \u001b[0;32mfor\u001b[0m \u001b[0mcopula\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mcopulas\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     23\u001b[0m         \u001b[0mcopula\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mfit\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mu\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0mv\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
            "\u001b[0;31mNameError\u001b[0m: name 'GaussianCopula' is not defined"
          ]
        }
      ],
      "source": [
        "algo_returns = {}\n",
        "cl = 0.99 # confidence level\n",
        "\n",
        "for pair in selected_pairs:\n",
        "    s1,s2 = parse_pair(pair)\n",
        "\n",
        "    # fit marginals\n",
        "    params_s1 = stats.t.fit(returns_form[s1])\n",
        "    dist_s1 = stats.t(*params_s1)\n",
        "    params_s2 = stats.t.fit(returns_form[s2])\n",
        "    dist_s2 = stats.t(*params_s2)\n",
        "\n",
        "    # transform marginals\n",
        "    u = dist_s1.cdf(returns_form[s1])\n",
        "    v = dist_s2.cdf(returns_form[s2])\n",
        "\n",
        "    # fit copula\n",
        "    best_aic = np.inf\n",
        "    best_copula = None\n",
        "\n",
        "    copulas = [GaussianCopula(), ClaytonCopula(), GumbelCopula(), FrankCopula(), JoeCopula()]\n",
        "    for copula in copulas:\n",
        "        copula.fit(u,v)\n",
        "        L = copula.log_likelihood(u,v)\n",
        "        aic = 2 * copula.num_params - 2 * L\n",
        "        if aic < best_aic:\n",
        "            best_aic = aic\n",
        "            best_copula = copula\n",
        "\n",
        "    # calculate conditional probabilities\n",
        "    prob_s1 = []\n",
        "    prob_s2 = []\n",
        "\n",
        "    for u,v in zip(dist_s1.cdf(returns_trade[s1]), dist_s2.cdf(returns_trade[s2])):\n",
        "        prob_s1.append(best_copula.cdf_u_given_v(u,v))\n",
        "        prob_s2.append(best_copula.cdf_v_given_u(u,v))\n",
        "\n",
        "    probs_trade = pd.DataFrame(np.vstack([prob_s1, prob_s2]).T, index=returns_trade.index, columns=[s1, s2])\n",
        "\n",
        "    # calculate positions\n",
        "    positions = pd.DataFrame(index=probs_trade.index, columns=probs_trade.columns)\n",
        "    long = False\n",
        "    short = False\n",
        "\n",
        "    for t in positions.index:\n",
        "        # if long position is open\n",
        "        if long:\n",
        "            if (probs_trade.loc[t][s1] > 0.3) or (probs_trade.loc[t][s2] < 0.7):\n",
        "                positions.loc[t] = [0,0]\n",
        "                long = False\n",
        "            else:\n",
        "                positions.loc[t] = [1,-1]\n",
        "\n",
        "        # if short position is open\n",
        "        elif short:\n",
        "            if (probs_trade.loc[t][s1] < 0.7) or (probs_trade.loc[t][s2] > 0.3):\n",
        "                positions.loc[t] = [0,0]\n",
        "                short = False\n",
        "            else:\n",
        "                positions.loc[t] = [-1,1]\n",
        "\n",
        "        # if no positions are open\n",
        "        else:\n",
        "            if (probs_trade.loc[t][s1] < (1-cl)) and (probs_trade.loc[t][s2] > cl):\n",
        "                # open long position\n",
        "                positions.loc[t] = [1,-1]\n",
        "                long = True\n",
        "            elif (probs_trade.loc[t][s1] > cl) and (probs_trade.loc[t][s2] < (1-cl)):\n",
        "                # open short positions\n",
        "                positions.loc[t] = [-1,1]\n",
        "                short = True\n",
        "            else:\n",
        "                positions.loc[t] = [0,0]\n",
        "\n",
        "    # calculate returns\n",
        "    algo_ret = (returns_trade * positions.shift()).sum(axis=1)\n",
        "    algo_returns[pair] = algo_ret"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "c95bc945",
      "metadata": {
        "id": "c95bc945"
      },
      "outputs": [],
      "source": [
        "returns = pd.DataFrame.from_dict(algo_returns)\n",
        "returns = np.exp(returns) - 1 # convert log-returns to simple returns"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "365f503e",
      "metadata": {
        "id": "365f503e"
      },
      "outputs": [],
      "source": [
        "total_ret = returns.sum(axis=1) / len(returns.columns) * 2 # double capital (from short positions)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "4d73efdc",
      "metadata": {
        "id": "4d73efdc",
        "outputId": "ebc6efd5-f724-46e5-f0ef-6d9f64150197"
      },
      "outputs": [
        {
          "data": {
            "text/plain": [
              "<matplotlib.legend.Legend at 0x7f48f9655df0>"
            ]
          },
          "execution_count": 56,
          "metadata": {},
          "output_type": "execute_result"
        },
        {
          "data": {
            "image/png": "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dVy8eBFTU1Pwer341re+xb1DcVmtVlitVjQ2NgIA9u/fj1OnTnHv0KLeeecd2Gy22L7Yu3cvLl26xH1DCVtor/B9MyXi17/+Nd588008++yzsRCBeyd78ARDkrZs2QK73Y6enh4EAgE0NTVh9+7dmV4WyZAoinj88cdRU1ODBx54IHb77t278cILLwAAXnjhBdx7770ZWiHJ1d/+7d/i4sWLeP311/HDH/4QO3bswD/90z9x71BcxcXFsFqt6OjoAAC8++67qK2t5d6hRZWVleGjjz6Cz+eDKIrcN7RkC+2V3bt3o6mpCYFAAD09PbDb7di6dWsGV0pyc/HiRfz0pz/F008/Da1WG7udeyd7COJ8501oSd566y384Ac/QDgcxv33349vfOMbmV4SydD777+Pr3zlK6ivr4/V0T/66KPYunUrHnnkEQwMDKC0tBQ/+tGPYDKZMrtYkq3f//73+Od//mc888wzcDqd3DsU19WrV/H4448jGAyivLwcTz75JCKRCPcOLerHP/4xXnrpJahUKjQ0NODkyZOYmJjgvqE5Hn30UfzhD3+A0+lEYWEh/vqv/xr33Xffgnvl6aefxpkzZ6BUKvGd73wHu3btyuwPQBkz3945deoUAoFAbL80NjbiiSeeAMC9ky0YMBARERERERFR0lgiQURERERERERJY8BAREREREREREljwEBERERERERESWPAQERERERERERJY8BAREREREREREljwEBERERERERESWPAQERERERERERJY8BAREREREREREn7/3XW1pLxrs8iAAAAAElFTkSuQmCC\n",
            "text/plain": [
              "<Figure size 1296x432 with 1 Axes>"
            ]
          },
          "metadata": {},
          "output_type": "display_data"
        }
      ],
      "source": [
        "plt.figure(figsize=(18,6))\n",
        "plt.plot(np.nancumprod(total_ret + 1), label='algo')\n",
        "plt.plot(np.nancumprod(vbr_ret + 1), label='VBR')\n",
        "plt.legend()"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "d011b9fd",
      "metadata": {
        "id": "d011b9fd",
        "outputId": "6bf12611-d44a-4417-b324-c815050df0ea"
      },
      "outputs": [
        {
          "data": {
            "text/html": [
              "<div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Total return</th>\n",
              "      <th>APR</th>\n",
              "      <th>Sharpe</th>\n",
              "      <th>MaxDD</th>\n",
              "      <th>MaxDDD</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>Algo</th>\n",
              "      <td>0.024795</td>\n",
              "      <td>0.049009</td>\n",
              "      <td>2.75403</td>\n",
              "      <td>-0.004165</td>\n",
              "      <td>33.0</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>VBR</th>\n",
              "      <td>0.069689</td>\n",
              "      <td>0.143021</td>\n",
              "      <td>0.867726</td>\n",
              "      <td>-0.096744</td>\n",
              "      <td>96.0</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>"
            ],
            "text/plain": [
              "     Total return       APR    Sharpe     MaxDD MaxDDD\n",
              "Algo     0.024795  0.049009   2.75403 -0.004165   33.0\n",
              "VBR      0.069689  0.143021  0.867726 -0.096744   96.0"
            ]
          },
          "execution_count": 57,
          "metadata": {},
          "output_type": "execute_result"
        }
      ],
      "source": [
        "metrics = pd.DataFrame(index=['Algo', 'VBR'], columns=['Total return', 'APR', 'Sharpe', 'MaxDD', 'MaxDDD'])\n",
        "metrics.loc['Algo'] = calculate_metrics(np.nancumprod(total_ret + 1))\n",
        "metrics.loc['VBR'] = calculate_metrics(np.nancumprod(vbr_ret + 1))\n",
        "metrics"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "id": "218f8c5f",
      "metadata": {
        "id": "218f8c5f"
      },
      "outputs": [],
      "source": []
    }
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3 (ipykernel)",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.8.12"
    },
    "colab": {
      "provenance": []
    }
  },
  "nbformat": 4,
  "nbformat_minor": 5
}
